<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è —Ä–∞—Ö—É–Ω–∫—É</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: sans-serif;
      background-color: #ffffff;
      color: #000;
      padding: 20px;
    }
    .container {
      max-width: 700px;
      margin: 0 auto;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
    .order-details {
      margin-top: 20px;
      border-top: 1px solid #ccc;
      padding-top: 15px;
    }
    .order-item {
      border-bottom: 1px solid #ccc;
      padding: 10px 0;
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 15px;
    }
    input[type="text"] {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      box-sizing: border-box;
    }
    .btn {
      display: block;
      margin: 20px auto;
      background: linear-gradient(to bottom, #9b59b6, #8e44ad);
      border-radius: 20px;
      border: none;
      color: #fff;
      font-size: 16px;
      padding: 12px 24px;
      cursor: pointer;
    }
    .btn:hover {
      background-color: rgba(255,255,255,0.2);
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è —Ä–∞—Ö—É–Ω–∫—É</h1>
    <div id="user-info"></div>
    <div id="order-summary" class="order-details"></div>
    <label for="delivery-address">–ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏:</label>
    <input type="text" id="delivery-address" placeholder="–í–≤–µ–¥—ñ—Ç—å –∞–¥—Ä–µ—Å—É –¥–æ—Å—Ç–∞–≤–∫–∏">
    <button class="btn" onclick="confirmOrder()">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
  </div>
  
  <script>
    // –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —ñ–∑ query string
    function getQueryParams() {
      const params = {};
      const queryString = window.location.search.substring(1);
      const pairs = queryString.split("&");
      pairs.forEach(pair => {
        const [key, value] = pair.split("=");
        if (key) {
          params[key] = decodeURIComponent(value || "").replace(/\+/g, " ");
        }
      });
      return params;
    }
    function displayOrderDetails() {
      const params = getQueryParams();
      const userId = params.user_id || "–Ω–µ–≤—ñ–¥–æ–º–æ";
      let cart = [];
      try {
        cart = JSON.parse(params.cart);
      } catch (error) {
        console.error("–ù–µ–≤—ñ—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–∏—Ö –∫–æ—Ä–∑–∏–Ω–∏:", error);
      }
      // –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
      document.getElementById("user-info").innerHTML = `<p>üÜî ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞: ${userId}</p>`;
      // –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø—ñ–¥—Å—É–º–∫—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
      const summaryDiv = document.getElementById("order-summary");
      if (cart.length === 0) {
        summaryDiv.innerHTML = "<p>–ö–æ—Ä–∑–∏–Ω–∞ –ø–æ—Ä–æ–∂–Ω—è.</p>";
        return;
      }
      cart.forEach(item => {
        const div = document.createElement("div");
        div.className = "order-item";
        div.innerHTML = `<p>–¢–æ–≤–∞—Ä ID: ${item.id}</p><p>–ö—ñ–ª—å–∫—ñ—Å—Ç—å: ${item.quantity}</p>`;
        summaryDiv.appendChild(div);
      });
    }
    function confirmOrder() {
      const address = document.getElementById("delivery-address").value.trim();
      if (!address) {
        alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å –∞–¥—Ä–µ—Å—É –¥–æ—Å—Ç–∞–≤–∫–∏.");
        return;
      }
      // –¢—É—Ç –º–∞—î –±—É—Ç–∏ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–∏—Ö –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ñ—ñ–Ω–∞–ª—å–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏.
      alert("–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ! –î—è–∫—É—î–º–æ –∑–∞ –ø–æ–∫—É–ø–∫—É.");
      // –ó–∞ –±–∞–∂–∞–Ω–Ω—è–º –º–æ–∂–Ω–∞ –∑–¥—ñ–π—Å–Ω–∏—Ç–∏ —Ä–µ–¥—ñ—Ä–µ–∫—Ç –∞–±–æ —ñ–Ω—à—ñ –¥—ñ—ó.
    }
    displayOrderDetails();
  </script>
</body>
</html>
